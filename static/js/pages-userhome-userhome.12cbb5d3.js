(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-userhome-userhome"],{"366d":function(t,i,a){var e=a("24fb");i=e(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.bg[data-v-ea3ff82a]{position:fixed;z-index:-2;top:0;left:0;width:100%;height:100%}.bg .bg-bai[data-v-ea3ff82a]{width:100%;height:100%}.bg .bg-img[data-v-ea3ff82a]{opacity:.4;position:absolute;z-index:-1;left:%?-10?%;top:%?-10?%;width:110%;height:110%;-webkit-filter:blur(16px);filter:blur(16px)}.container[data-v-ea3ff82a]{display:flex;width:100%;min-width:%?320?%;max-width:%?750?%;margin:0 auto;flex-direction:column}.container .top-bar[data-v-ea3ff82a]{display:flex;height:%?88?%;justify-content:space-between}.container .top-bar .left[data-v-ea3ff82a]{display:flex;width:%?96?%;justify-content:center;align-items:center}.container .top-bar .left uni-image[data-v-ea3ff82a]{width:%?48?%;height:%?48?%}.container .top-bar .right[data-v-ea3ff82a]{display:flex;width:%?76?%;justify-content:center;align-items:center}.container .top-bar .right uni-image[data-v-ea3ff82a]{width:%?52?%;height:%?12?%;padding-right:%?32?%}.container .bigface[data-v-ea3ff82a]{width:%?400?%;height:%?400?%;margin-top:%?60?%;margin-left:%?176?%;border-radius:%?24?%;position:relative;display:flex;flex-direction:column;justify-content:flex-start;align-items:center}.container .bigface .bigone[data-v-ea3ff82a]{top:0;z-index:10;width:%?400?%;height:%?400?%;border-radius:%?24?%}.container .bigface .sex[data-v-ea3ff82a]{z-index:11;position:absolute;bottom:%?5?%;right:%?5?%;width:%?64?%;height:%?64?%;border-radius:%?28?%}.container .bigface .sex .smallone[data-v-ea3ff82a]{position:absolute;right:%?16?%;bottom:%?16?%;width:%?32?%;height:%?32?%}.container .userinfo[data-v-ea3ff82a]{display:flex;flex-direction:column;align-items:center;margin-top:%?48?%}.container .userinfo .username .username-1[data-v-ea3ff82a]{font-size:%?52?%;line-height:%?74?%;color:#272832}.container .userinfo .customname .customname-1[data-v-ea3ff82a]{font-size:%?28?%;line-height:%?40?%;color:#272832}.container .userinfo .introduction[data-v-ea3ff82a]{padding:%?20?% %?120?%}.container .userinfo .introduction .introduction-1[data-v-ea3ff82a]{font-size:%?28?%;color:#272832;line-height:%?48?%}.container .add[data-v-ea3ff82a]{width:%?684?%;height:%?80?%;background-color:#ff0;margin-left:%?32?%;margin-top:%?480?%;display:flex;justify-content:center;align-items:center;border-radius:%?5?%}.container .add .addfriendButton[data-v-ea3ff82a]{font-family:PingFangSC-Regular;font-size:%?16?%;color:#272832;line-height:%?22?%}.container .add-friend[data-v-ea3ff82a]{position:fixed;bottom:%?0?%;width:100%;box-sizing:border-box;padding:0 %?56?%;background:#fff;border-radius:%?40?% %?40?% 0 0}.container .add-friend .name[data-v-ea3ff82a]{padding:%?168?% 0 %?40?%;font-size:%?52?%;color:#272832;line-height:%?74?%}.container .add-friend .add-main[data-v-ea3ff82a]{padding:%?18?% %?22?%;box-sizing:border-box;width:100%;height:%?420?%;background:#f3f4f6;border-radius:%?20?%;font-size:%?32?%;color:#272832;line-height:%?44?%}.container .add-bt[data-v-ea3ff82a]{position:fixed;z-index:100;bottom:%?-104?%;width:100%;height:%?104?%;display:flex;justify-content:space-around}.container .add-bt .send[data-v-ea3ff82a]{display:flex;justify-content:center;align-items:center;border-radius:%?20?%;background:#ffe431;width:%?480?%}.container .add-bt .send .send-1[data-v-ea3ff82a]{line-height:%?80?%;font-size:%?16?%}.container .add-bt .close[data-v-ea3ff82a]{display:flex;justify-content:center;align-items:center;background:rgba(39,40,50,.2);border-radius:%?20?%;width:%?172?%}.container .add-bt .close .close-1[data-v-ea3ff82a]{line-height:%?80?%;font-size:%?16?%}',""]),t.exports=i},"3b5c":function(t,i,a){"use strict";a.r(i);var e=a("8d19"),n=a("f80c");for(var s in n)"default"!==s&&function(t){a.d(i,t,(function(){return n[t]}))}(s);a("c4b6");var o,r=a("f0c5"),d=Object(r["a"])(n["default"],e["b"],e["c"],!1,null,"ea3ff82a",null,!1,e["a"],o);i["default"]=d.exports},"68e9":function(t,i,a){"use strict";var e=a("4ea4");a("99af"),a("ac1f"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=e(a("ade3")),s=(e(a("9752")),{data:function(){var t;return t={id:"",uid:"",token:"",myname:"",markname:"",user:{},seximg:"../../static/images/userhome/asexual.png",sexBg:"rgba(39,40,50,1)",relation:"",addHeight:"",animationData:{},animationData1:{},animationData2:{},animationData3:{},isAdd:!1},(0,n.default)(t,"myname","春哥"),(0,n.default)(t,"user",{}),(0,n.default)(t,"myimgurl",""),(0,n.default)(t,"msg","请求添加好友~"),t},onLoad:function(t){this.id=t.id,this.getStorages(),this.getUser(),this.judgeFriend()},methods:{getStorages:function(){try{var t=uni.getStorageSync("user");t?(this.uid=t.id,this.token=t.token,this.myimgurl=t.imgurl,this.myname=t.name):uni.navigateTo({url:"../signin/signin"})}catch(i){}},getUser:function(){var t=this;uni.request({url:this.serverUrl+"/user/detail",data:{id:this.id,token:this.token},method:"POST",success:function(i){var a=i.data.status;if(200==a){var e=i.data.result;e.imgurl=t.serverUrl+"/user/"+e.imgurl,e.explain,e.explain="这个人很懒，什么都留下了~",0==t.markname.length&&(t.markname=e.name),t.sexJudge(e.sex),t.user=e,console.log(e)}else 500==a?uni.showToast({title:"服务器出错啦",icon:"none",duration:1500}):300==a&&uni.navigateTo({url:"../signin/signin?name="+t.myname})}})},sexJudge:function(t){"female"==t?(this.seximg="../../static/images/userhome/women.png",this.sexBg="red"):"male"==t?(this.seximg="../../static/images/userhome/men.png",this.sexBg="rgba(87,153,255,1)"):(this.seximg="../../static/images/userhome/asexual.png",this.sexBg="rgba(39,40,50,1)")},judgeFriend:function(){var t=this;this.id==this.uid?this.relation=0:uni.request({url:this.serverUrl+"/search/isfriend",data:{uid:this.uid,fid:this.id,token:this.token},method:"POST",success:function(i){var a=i.data.status;200==a?(t.relation=1,t.getMarkName()):400==a?t.relation=2:300==a?uni.navigateTo({url:"../signin/signin?name="+t.myname}):500==a&&uni.showToast({title:"服务器出错啦",icon:"none",duration:1500})}})},getMarkName:function(){var t=this;uni.request({url:this.serverUrl+"/user/getmarkname",data:{uid:this.uid,fid:this.id,token:this.token},method:"POST",success:function(i){var a=i.data.status;if(200==a){var e=i.data.result;void 0!=e.markname&&(t.markname=e.markname)}else 500==a?uni.showToast({title:"服务器出错啦",icon:"none",duration:1500}):300==a&&uni.navigateTo({url:"../signin/signin?name="+t.myname})}})},backOne:function(){uni.navigateBack({delta:1})},toChat:function(){uni.navigateTo({url:"../chatroom/chatroom?fname=".concat(this.user.name,"&fid=").concat(this.id,"&fimg=").concat(this.user.imgurl,"&uid=").concat(this.uid,"&uimg").concat(this.myimgurl)})},toUserDetail:function(){uni.navigateTo({url:"../userdetail/userdetail?id="+this.id})},getElementStyle:function(){var t=this,i=uni.createSelectorQuery().in(this);i.select(".bg").boundingClientRect((function(i){console.log("得到布局位置信息"+JSON.stringify(i)),console.log("节点离页面顶部的距离为"+i.top),t.addHeight=i.height-186})).exec()},addFriendAnimate:function(){this.isAdd=!this.isAdd;var t=uni.createAnimation({duration:300,timingFunction:"ease"}),i=uni.createAnimation({duration:300,timingFunction:"ease"}),a=uni.createAnimation({duration:300,timingFunction:"ease"}),e=uni.createAnimation({duration:300,timingFunction:"ease"});this.isAdd?(t.bottom(0).step(),i.bottom(0).step(),a.width(120).height(120).top(40).step(),e.opacity(0).step()):(t.bottom(-this.addHeight).step(),i.bottom(-100).step(),a.width(200).height(200).top(0).step(),e.opacity(1).step()),this.animationData=t.export(),this.animationData1=i.export(),this.animationData2=a.export(),this.animationData3=e.export()},addSubmit1:function(){var t=this;this.addFriendAnimate(),this.msg.length>0&&uni.request({url:this.serverUrl+"/friend/applyfriend",data:{uid:this.uid,fid:this.id,token:this.token,msg:this.msg},method:"POST",success:function(i){var a=i.data.status;200==a?uni.showToast({title:"好友请求发送成功",icon:"none",duration:1500}):500==a?uni.showToast({title:"服务器出错啦",icon:"none",duration:1500}):300==a&&uni.navigateTo({url:"../signin/signin?name="+t.myname})}})},onReady:function(){this.getElementStyle()}}});i.default=s},"8d19":function(t,i,a){"use strict";var e;a.d(i,"b",(function(){return n})),a.d(i,"c",(function(){return s})),a.d(i,"a",(function(){return e}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"container"},[e("v-uni-view",{staticClass:"top-bar"},[e("v-uni-view",{staticClass:"left",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.backOne.apply(void 0,arguments)}}},[e("v-uni-image",{attrs:{src:a("eaa6")}})],1),e("v-uni-view",{staticClass:"right",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toUserDetail.apply(void 0,arguments)}}},[0==t.relation||1==t.relation?e("v-uni-image",{attrs:{src:a("f9fe")}}):t._e()],1)],1),e("v-uni-view",{staticClass:"bg"},[e("v-uni-view",{staticClass:"bg-bai"}),e("v-uni-image",{staticClass:"bg-img",attrs:{src:t.user.imgurl,mode:"aspectFill"}})],1),e("v-uni-view",{staticClass:"bigface animate__animated animate__fadeIn animate__faster"},[e("v-uni-image",{staticClass:"bigone",attrs:{src:t.user.imgurl,animation:t.animationData2}}),e("v-uni-view",{staticClass:"sex",style:{background:t.sexBg},attrs:{animation:t.animationData3}},[e("v-uni-image",{staticClass:"smallone",attrs:{src:t.seximg}})],1)],1),e("v-uni-view",{staticClass:"userinfo"},[e("v-uni-view",{staticClass:"username"},[e("v-uni-view",{staticClass:"username-1"},[t._v(t._s(t.markname))])],1),e("v-uni-view",{staticClass:"customname"},[e("v-uni-view",{staticClass:"customname-1"},[t._v("昵称："+t._s(t.user.name))])],1),e("v-uni-view",{staticClass:"introduction"},[e("v-uni-view",{staticClass:"introduction-1"},[t._v(t._s(t.user.explain))])],1)],1),e("v-uni-view",{staticClass:"add"},[2==t.relation?e("v-uni-view",{staticClass:"addfriendButton",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.addFriendAnimate.apply(void 0,arguments)}}},[t._v("加为好友")]):1==t.relation?e("v-uni-view",{staticClass:"addfriendButton",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toChat.apply(void 0,arguments)}}},[t._v("发送消息")]):0==t.relation?e("v-uni-view",{staticClass:"addfriendButton"},[t._v("真的没有了")]):t._e()],1),e("v-uni-view",{staticClass:"add-friend",style:{height:t.addHeight+"px",bottom:-+t.addHeight+"px"},attrs:{animation:t.animationData}},[e("v-uni-view",{staticClass:"name"},[t._v(t._s(t.user.name))]),e("v-uni-textarea",{staticClass:"add-main",attrs:{maxlength:"120"},model:{value:t.msg,callback:function(i){t.msg=i},expression:"msg"}})],1),e("v-uni-view",{staticClass:"add-bt",attrs:{animation:t.animationData1}},[e("v-uni-view",{staticClass:"close",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.addFriendAnimate.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"close-1"},[t._v("取消")])],1),e("v-uni-view",{staticClass:"send",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.addSubmit1.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"send-1"},[t._v("发送")])],1)],1)],1)},s=[]},9752:function(t,i,a){"use strict";function e(t,i){return getComputedStyle?getComputedStyle(t)[i]:t.currentStyle[i]}function n(t,i){clearInterval(t.timerId),t.timerId=setInterval((function(){for(var a in i){var n,s=i[a];n="opacity"===a?Math.round(100*parseFloat(e(t,"opacity"))):parseInt(e(t,a));var o=(s-n)/30;o=o>0?Math.ceil(o):Math.floor(o),"opacity"===a?t.style.opacity=(n+o)/100:t.style[a]=n+o+"px"}}),20)}a("acd8"),a("e25e"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s={animate:n,getStyle:e};i.default=s},a37d:function(t,i,a){var e=a("366d");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("4f06").default;n("3cc8558e",e,!0,{sourceMap:!1,shadowMode:!1})},c4b6:function(t,i,a){"use strict";var e=a("a37d"),n=a.n(e);n.a},eaa6:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAYAAAAj6qa3AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAAZpJREFUaN7tmLGKwjAYgJN4IPQFBAc3EcUnEOxQqYvUycnBQWrcBRE6OQlVdFeKg7OTgoJgB8U3ELUvIPgCTjW5ofQO7ritNrmSb2sD+fN9Q2kLgEAgEAj4o9ltdpvdZLLltJyWs9vhOI7j+HAY9BzEWvQv8Vgv1ov1bBuO4RiOVRWkQRqk6/XIBvglbkADGpmMt/p8kiVZkmWjEfRcyFpcz+t5PZ9IIBe5yLVtIAMZyLmcLw6P8AiP1er0Or1Or/t9ZAKwFmcWgBfx0APwJh5aAF7F3x6Ad/G3Bfgv4j4fQW+ICqiACpuNd/UtTjqkQzqaZs2smTWzbdbiX+cNfMc+6IM+pazFmAUgZVIm5UoFHMABHC4X764koQmaoMl63c62s+1sqcRa3Ec8BN89gPcQ4kUorEG8hhAfQ6wC8BKC+Q8R62ydrfPj4Wqu5mqqSgd0QAeO461KEi3SIi2uVvpNv+k3RYlcAJ/5aD6aj+73l/kyX6ai/AyBaqiGaosF63OGhv+LDKdwCqe2W3zCJ3wyTdbnEggEgkjxCbMIY3VKnVAYAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTEwLTI2VDEwOjAzOjIwKzA4OjAwCNe1sAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0xMC0yNlQxMDowMzoyMCswODowMHmKDQwAAABJdEVYdHN2ZzpiYXNlLXVyaQBmaWxlOi8vL2hvbWUvYWRtaW4vaWNvbi1mb250L3RtcC9pY29uX2V3aWsxdG9paXZyL2Zhbmh1aS5zdmcnTsyBAAAAAElFTkSuQmCC"},f80c:function(t,i,a){"use strict";a.r(i);var e=a("68e9"),n=a.n(e);for(var s in e)"default"!==s&&function(t){a.d(i,t,(function(){return e[t]}))}(s);i["default"]=n.a},f9fe:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAMCAYAAAAtUZ4rAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAANKADAAQAAAABAAAADAAAAADM7h5EAAABB0lEQVRIDd2Wyw3CMAyG7WzBBq24ARNUjMGNx1A8boyBOgFwQ+0GbIGxW0yoUhrfIjWXNMmXP7+jJC7CpxAR5vl8A4hrAJq23fgAolNV3Y6ISMpa6lR6KOY4kMmL4MyBFP1msXQIKw7s2T/e7U2p52Qnh4MRs1QII2zXethKrYdZNtvyWdqH1sIejmZX1/dDOOJ7Uuu59s54Q4Nfzf0aJCC1nvMPQMRoM6yPxRBrYXS+hbUwXo8DGlfhgPhpNhcLa2F0QQtrYbyekzyjzWhtYS2MLmRhLcyPHsozm+WLy/8cpDSWdXVdxhJsaj0nBiVp8tEr1XpYt4k1FozMS633TZSys2P49XkD2Cvo+fPvYIAAAAAASUVORK5CYII="}}]);